var c = require('../../config').realTimeStatistics;
var https = require('https');
var _ = require('underscore');

var a = require('./lib/agent');
var q = require('./lib/queue');

process.on('message', function(m) {
  // Do work  (in this case just up-case the string
  m = m.toUpperCase();

  // Pass results back to parent process
  process.send(m.toUpperCase(m));
});

function startIntervals() {

  setInterval(function() {
    a(c, function(err, d) {
      process.send({'agent': d});
    });
  }, 5000);

  setInterval(function() {
    q(c, function(err, d) {
      process.send({'queue': d});
    });
  }, 5000);

};

startIntervals();






